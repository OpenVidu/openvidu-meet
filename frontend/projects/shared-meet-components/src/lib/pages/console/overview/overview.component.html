<div class="overview-container">
	<ng-container *ngIf="stats$ | async as stats">
		@if (stats.hasData) {
			<div class="overview-header">
				<div class="title">
					<mat-icon>dashboard</mat-icon>
					<h1>Overview</h1>
				</div>
				<p class="subtitle">Monitor your system status and recent activity</p>
			</div>
			<!-- Dashboard State -->
			<div class="dashboard-content">
				<!-- Stats Grid -->
				<div class="stats-grid">
					<mat-card class="stat-card rooms-card">
						<mat-card-content>
							<div class="stat-icon">
								<mat-icon class="ov-room-icon">video_chat</mat-icon>
							</div>
							<div class="stat-content">
								<div class="stat-number">{{ stats.totalRooms }}</div>
								<div class="stat-label">Total Rooms</div>
								<div class="stat-detail">{{ stats.activeRooms }} active</div>
							</div>
						</mat-card-content>
						<mat-card-actions>
							<button mat-stroked-button (click)="navigateTo('rooms')">
								<mat-icon class="ov-action-icon">add</mat-icon>
								Create Room
							</button>
							<button mat-button (click)="navigateTo('rooms')">
								View all
								<mat-icon class="ov-navigation-icon">arrow_forward</mat-icon>
							</button>
						</mat-card-actions>
					</mat-card>

					<mat-card class="stat-card recordings-card">
						<mat-card-content>
							<div class="stat-icon">
								<mat-icon class="ov-recording-icon">video_library</mat-icon>
							</div>
							<div class="stat-content">
								<div class="stat-number">{{ stats.totalRecordings }}</div>
								<div class="stat-label">Total Recordings</div>
								<div class="stat-detail">Available for playback</div>
							</div>
						</mat-card-content>
						<mat-card-actions>
							<button mat-button (click)="navigateTo('recordings')">
								<mat-icon class="ov-navigation-icon">arrow_forward</mat-icon>
								View all
							</button>
						</mat-card-actions>
					</mat-card>
				</div>
			</div>
		} @else {
			<!-- First Time User State -->
			<div class="get-started-header">
				<h1>Get started with OpenVidu Meet</h1>
				<p class="subtitle">Your video conference management dashboard.</p>
				<p class="subtitle">Get the most out of your app, start with these quick setup actions.</p>
			</div>
			<div class="welcome-content">
				<div class="welcome-card">
					<div class="welcome-actions">
						<div class="getting-started-grid">
							<mat-card class="feature-card">
								<mat-card-content>
									<mat-icon class="ov-room-icon">video_chat</mat-icon>
									<h3>Create your first room</h3>
									<p>
										Rooms define your app's communication space. Start by creating a video
										conference room that participants can join.
									</p>
									<button mat-stroked-button (click)="navigateTo('rooms')">
										<mat-icon class="ov-action-icon">add</mat-icon>
										Create Room
									</button>
								</mat-card-content>
							</mat-card>

							<mat-card class="feature-card">
								<mat-card-content>
									<mat-icon class="ov-settings-icon">settings</mat-icon>
									<h3>Configure OpenVidu Meet</h3>
									<p>
										Customize OpenVidu Meet to fit your needs. Configure security settings, access
										controls, branding, and other essential features.
									</p>
									<button mat-stroked-button (click)="navigateTo('settings')">Go to Settings</button>
								</mat-card-content>
							</mat-card>

							<mat-card class="feature-card">
								<mat-card-content>
									<mat-icon class="material-symbols-outlined ov-developer-icon">
										code_blocks
									</mat-icon>

									<h3>Create rooms with REST API</h3>
									<p>
										Integrate OpenVidu Meet into your applications using our comprehensive REST API
										for programmatic room creation and management.
									</p>
									<button mat-stroked-button (click)="navigateTo('developers')">
										Go to Developers
									</button>
								</mat-card-content>
							</mat-card>
						</div>
					</div>
				</div>
			</div>
		}
	</ng-container>
</div>
