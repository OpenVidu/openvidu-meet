<div class="step-indicator-wrapper" [attr.data-layout]="layoutType$ | async">
	<mat-stepper
		#stepper
		[selectedIndex]="currentStepIndex()"
		[orientation]="(stepperOrientation$ | async)!"
		[linear]="false"
		class="wizard-stepper"
		[attr.data-layout]="layoutType$ | async"
		(selectionChange)="onStepClick($event)"
	>
		@for (step of visibleSteps(); track step.id; let i = $index) {
			<mat-step
				[stepControl]="step.formGroup"
				[state]="getStepState(step)"
				errorMessage="Invalid fields"
				[editable]="true"
				[label]="step.label"
				[completed]="step.isCompleted"
			>
			</mat-step>
		}
	</mat-stepper>
</div>
