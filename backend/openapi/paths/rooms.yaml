/rooms:
    post:
        operationId: createRoom
        summary: Create a room
        description: >
            Creates a new OpenVidu Meet room with the specified expiration date.
            The room will be available for participants to join using the generated URLs.
        tags:
            - OpenVidu Meet - Room
        security:
            - apiKeyInHeader: []
            - accessTokenCookie: []
        requestBody:
            $ref: '../components/requestBodies/create-room-request.yaml'
        responses:
            '200':
                $ref: '../components/responses/success-create-room.yaml'
            '401':
                $ref: '../components/responses/unauthorized-error.yaml'
            '403':
                $ref: '../components/responses/forbidden-error.yaml'
            '422':
                $ref: '../components/responses/validation-error.yaml'
            '500':
                $ref: '../components/responses/internal-server-error.yaml'

    get:
        operationId: getRooms
        summary: Get all rooms
        description: >
            Retrieves a paginated list of all rooms available in the system.
        tags:
            - OpenVidu Meet - Room
        security:
            - apiKeyInHeader: []
            - accessTokenCookie: []
        parameters:
            - $ref: '../components/parameters/room-fields.yaml'
            - $ref: '../components/parameters/max-items.yaml'
            - $ref: '../components/parameters/next-page-token.yaml'
        responses:
            '200':
                $ref: '../components/responses/success-get-rooms.yaml'
            '401':
                $ref: '../components/responses/unauthorized-error.yaml'
            '403':
                $ref: '../components/responses/forbidden-error.yaml'
            '500':
                $ref: '../components/responses/internal-server-error.yaml'

    delete:
        operationId: bulkDeleteRooms
        summary: Bulk delete rooms
        description: >
            Delete multiple OpenVidu Meet rooms at once with the specified room IDs.
        tags:
            - OpenVidu Meet - Room
        security:
            - apiKeyInHeader: []
            - accessTokenCookie: []
        parameters:
            - name: roomIds
              in: query
              required: true
              description: A comma-separated list of room IDs to delete.
              schema:
                  type: string
                  example: 'room-123,room-456'
        responses:
            '200':
                $ref: '../components/responses/success-bulk-delete-rooms.yaml'
            '401':
                $ref: '../components/responses/unauthorized-error.yaml'
            '403':
                $ref: '../components/responses/forbidden-error.yaml'
            '422':
                $ref: '../components/responses/validation-error.yaml'
            '500':
                $ref: '../components/responses/internal-server-error.yaml'
/rooms/{roomId}:
    get:
        operationId: getRoom
        summary: Get a room
        description: >
            Retrieves the details of an OpenVidu Meet room with the specified room ID.
        tags:
            - OpenVidu Meet - Room
        security:
            - apiKeyInHeader: []
            - accessTokenCookie: []
            - participantTokenCookie: []
        parameters:
            - $ref: '../components/parameters/room-id.yaml'
            - $ref: '../components/parameters/room-fields.yaml'
        responses:
            '200':
                $ref: '../components/responses/success-get-room.yaml'
            '401':
                $ref: '../components/responses/unauthorized-error.yaml'
            '403':
                $ref: '../components/responses/forbidden-error.yaml'
            '404':
                $ref: '../components/responses/error-room-not-found.yaml'
            '500':
                $ref: '../components/responses/internal-server-error.yaml'
    delete:
        operationId: deleteRoom
        summary: Delete a room
        description: >
            Permanently removes an OpenVidu Meet room with the specified room ID.
            When a room is deleted:

            - All active participants are immediately disconnected

            - All associated resources and session data are removed

            - The room ID becomes available for reuse

            This operation is idempotent - deleting a non-existent room or
            attempting to delete an already removed room will return a successful
            response.
        tags:
            - OpenVidu Meet - Room
        security:
            - apiKeyInHeader: []
            - accessTokenCookie: []
        parameters:
            - $ref: '../components/parameters/room-id.yaml'
        responses:
            '202':
                description: Room deletion accepted. The room will be deleted when all participants leave.
            '204':
                description: Successfully deleted the OpenVidu Meet room
            '401':
                $ref: '../components/responses/unauthorized-error.yaml'
            '403':
                $ref: '../components/responses/forbidden-error.yaml'
            '404':
                $ref: '../components/responses/error-room-not-found.yaml'
            '500':
                $ref: '../components/responses/internal-server-error.yaml'
